<div class="main-content">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-6 col-sm-6">
                <div class="card card-profile">
                    <div class="card-avatar">
                        <a href="javascript:void(0)">
                            <img class="img" src="./assets/img/logo.png" />
                        </a>
                    </div>
                    <div class="card-body">
                        <h6 class="card-category text-white">NOVABIT</h6>
                        <h4 class="card-title">Cree su cuenta</h4>
                        <form [formGroup]="registerForm">
                            <div class="row">
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Usuario</mat-label>
                                        <input matInput placeholder="Usuario" type="text" formControlName="usr_web">
                                        <mat-error *ngIf="hasError('usr_web', 'required')">Usuario obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Contraseña</mat-label>
                                        <input matInput [type]="hide ? 'password' : 'text'" placeholder="Contraseña" formControlName="pwd_web">
                                        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                        </button>
                                        <mat-error *ngIf="hasError('pwd_web', 'required')">Contraseña obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Identificación</mat-label>
                                        <input matInput placeholder="Identificación" type="text" formControlName="cif">
                                        <mat-error *ngIf="hasError('cif', 'required')">Identificación obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Nombres</mat-label>
                                        <input matInput placeholder="Nombres" type="text" formControlName="name">
                                        <mat-error *ngIf="hasError('name', 'required')">Nombres obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Correo electrónico</mat-label>
                                        <input matInput placeholder="Correo electrónico" type="email" formControlName="eml">
                                        <mat-error *ngIf="hasError('eml', 'required')">Correo electrónico obligatorio!</mat-error>
                                        <mat-error *ngIf="hasError('eml', 'email')">Correo electrónico no válido!</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Móvil</mat-label>
                                        <input matInput placeholder="Teléfono" type="text" formControlName="tlf">
                                        <mat-error *ngIf="hasError('tlf', 'required')">Teléfono obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>País</mat-label>
                                        <mat-select placeholder="País" formControlName="pai">
                                            <mat-option *ngFor="let pais of paisList" [value]="pais.id" (click)="changePais(pais.id)" >{{pais.name}}</mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="hasError('pai', 'required')">País obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Provincia</mat-label>
                                        <mat-select placeholder="Provincia" formControlName="pro">
                                            <mat-option *ngFor="let provincia of provinciaList" [value]="provincia.id">{{provincia.name}}</mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="hasError('pro', 'required')">Provincia obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Dirección</mat-label>
                                        <input matInput placeholder="Dirección" type="text" formControlName="dir">
                                        <mat-error *ngIf="hasError('dir', 'required')">Dirección obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>
                            </div> 
                            <div class="row">
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width shadow" appearance="outline" >
                                        <mat-label>Usuario que Refiere</mat-label>
                                        <input matInput placeholder="Usuario que refiere" type="text" formControlName="ent_rel_usr_web" [(ngModel)]="myValue">
                                        <button matSuffix mat-button (click)="searchUser()">
                                            <mat-icon >search</mat-icon>
                                        </button>
                                        <mat-error *ngIf="hasError('ent_rel_usr_web', 'required')">Usuario obligatorio!</mat-error>
                                        <mat-error *ngIf="hasError('ent_rel_usr_web', 'incorrect')">Usuario no encontrado!</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                        <mat-label>Nombres del usuario referiere</mat-label>
                                        <input matInput placeholder="Referido" type="text" formControlName="ent_rel_name" readonly>
                                        <mat-error *ngIf="hasError('ent_rel_name', 'required')">Nombres usuario obligatorio!</mat-error>
                                    </mat-form-field>
                                </div>                               
                            </div>
                            <button mat-raised-button [disabled]="!registerForm.valid" type="button" class="btn btn-danger" (click)="register(registerForm.value)" aria-label ="Registrar">Registrar</button>
                            <div class="clearfix"></div>
                        </form>
                        <hr>
                        <p class="card-description">
                            ¿Ya eres usuario? <a routerLink="/login" class="text">Acceda a su cuenta</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
